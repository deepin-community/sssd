<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DocBook V4.4//EN"
"http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<reference>
<title>Сторінки підручника SSSD</title>
<refentry>
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="include/upstream.xml" />

    <refmeta>
        <refentrytitle>sss_cache</refentrytitle>
        <manvolnum>8</manvolnum>
    </refmeta>

    <refnamediv id='name'>
        <refname>sss_cache</refname>
        <refpurpose>виконати спорожнення кешу</refpurpose>
    </refnamediv>

    <refsynopsisdiv id='synopsis'>
        <cmdsynopsis>
<command>sss_cache</command> <arg choice='opt'>
<replaceable>параметри</replaceable> </arg></cmdsynopsis>
    </refsynopsisdiv>

    <refsect1 id='description'>
        <title>ОПИС</title>
        <para>
            <command>sss_cache</command> скасовує визначення записів у кеші SSSD. Дані
записів зі скасованими визначеннями буде перезавантажено з сервера у
примусовому порядку, щойно відповідний модуль SSSD отримає до них
доступ. Параметри, які скасовують визначення окремого об'єкта приймають лише
один аргумент.
        </para>
    </refsect1>

    <refsect1 id='options'>
        <title>ПАРАМЕТРИ</title>
        <variablelist remap='IP'>
            <varlistentry>
                <term>
                    <option>-E</option>,<option>--everything</option>
                </term>
                <listitem>
                    <para>
                        Скасувати чинність усіх кешованих записів.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>-u</option>,<option>--user</option> <replaceable>реєстраційні
дані</replaceable>
                </term>
                <listitem>
                    <para>
                        Скасувати визначення вказаного користувача.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>-U</option>,<option>--users</option>
                </term>
                <listitem>
                    <para>
                        Скасувати визначення всіх записів. Цей параметр має вищий пріоритет за
параметр скасування визначення для будь-якого користувача, якщо такий
параметр вказано.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>-g</option>,<option>--group</option>
<replaceable>група</replaceable>
                </term>
                <listitem>
                    <para>
                        Скасувати визначення вказаної групи.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>-G</option>,<option>--groups</option>
                </term>
                <listitem>
                    <para>
                        Скасувати визначення записів для всіх груп. Цей параметр має вищий пріоритет
за параметр скасування визначення для будь-якої групи, якщо такий параметр
вказано.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>-n</option>,<option>--netgroup</option> <replaceable>мережева
група</replaceable>
                </term>
                <listitem>
                    <para>
                        Скасувати визначення вказаної мережевої групи.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>-N</option>,<option>--netgroups</option>
                </term>
                <listitem>
                    <para>
                        Скасувати визначення всіх записів мережевих груп. Цей параметр має вищий
пріоритет за параметр скасування визначення для будь-якої мережевої групи,
якщо такий параметр вказано.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>-s</option>,<option>--service</option>
<replaceable>служба</replaceable>
                </term>
                <listitem>
                    <para>
                        Скасувати визначення вказаної служби.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>-S</option>,<option>--services</option>
                </term>
                <listitem>
                    <para>
                        Скасувати визначення всіх записів служб. Цей параметр має вищий пріоритет за
параметр скасування визначення для будь-якої служби, якщо такий параметр
вказано.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry condition="with_autofs">
                <term>
                    <option>-a</option>,<option>--autofs-map</option> <replaceable>карта
autofs</replaceable>
                </term>
                <listitem>
                    <para>
                        Скасувати визначення певної карти autofs.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry condition="with_autofs">
                <term>
                    <option>-A</option>,<option>--autofs-maps</option>
                </term>
                <listitem>
                    <para>
                        Скасувати визначення всіх записів карт autofs. Цей параметр має вищий
пріоритет за параметр скасування визначення для будь-якої карти, якщо такий
параметр вказано.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry condition="with_ssh">
                <term>
                    <option>-h</option>,<option>--ssh-host</option> <replaceable>назва
вузла</replaceable>
                </term>
                <listitem>
                    <para>
                        Скасувати чинність відкритих ключів SSH певного вузла.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry condition="with_ssh">
                <term>
                    <option>-H</option>,<option>--ssh-hosts</option>
                </term>
                <listitem>
                    <para>
                        Скасувати чинність усіх відкритих ключів SSH усіх вузлів. Цей параметр
перевизначає скасовування чинності ключів SSH певних вузлів, якщо для них
було використано таке скасовування.
                    </para>
                </listitem>
            </varlistentry>
           <varlistentry condition="with_sudo">
                <term>
                    <option>-r</option>,<option>--sudo-rule</option>
<replaceable>правило</replaceable>
                </term>
                <listitem>
                    <para>
                        Скасувати чинність певного правила sudo.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry condition="with_sudo">
                <term>
                    <option>-R</option>,<option>--sudo-rules</option>
                </term>
                <listitem>
                    <para>
                        Скасувати визначення усіх кешованих правил sudo. Цей параметр має вищий
пріоритет за параметр скасування визначення для будь-якого правила sudo,
якщо такий параметр вказано.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>-d</option>,<option>--domain</option>
<replaceable>домен</replaceable>
                </term>
                <listitem>
                    <para>
                        Обмежити процедуру скасування визначення лише певним доменом.
                    </para>
                </listitem>
            </varlistentry>
            <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="include/param_help.xml" />
        </variablelist>
    </refsect1>

    <refsect1 id='memcache'>
        <title>ВПЛИВ НА ШВИДКИЙ КЕШ У ПАМ'ЯТІ</title>
        <para>
            Крім того, <command>sss_cache</command> вимикає кеш у пам'яті. Оскільки кеш
у пам'яті є файлом, копію якого програма створює у пам'яті кожного процесу,
який викликає SSSD для визначення користувачів або груп, файл не може бути
обрізано. У заголовку файла встановлюють спеціальний прапорець для
позначення некоректності вмісту, а потім файл від'єднується відповідачем NSS
SSSD і створюється новий файл кешу. Після цього, кожного разу, коли процес
виконує новий пошук користувача або групи, він бачить цей прапорець,
закриває старий файл кешу у пам'яті і відтворює новий файл у своїй
пам'яті. Коли усі процеси, які відкривали старий файл кешу у пам'яті,
закриють його під час пошуку користувача або групи, ядро може звільнити
зайняте ним місце на диску і нарешті повністю вилучити застарілий файл кешу
у пам'яті.
        </para>
        <para>
            Особливим випадком є процеси довготривалої дії, які виконують пошук
користувачів або груп лише під час запуску, наприклад, щоб визначити назву
облікового запису користувача, від імені якого запущено процес. Для таких
пошуків файл кешу у пам'яті відображається до пам'яті процесу. Але оскільки
подальших пошуків виконано не буде, цей процес ніколи не зможе визначити
втрату чинності файлом кешу у пам'яті, а отже, файл лишатиметься у пам'яті і
займатиме місце на диску аж до завершення процесом роботи. У результаті
виклик <command>sss_cache</command> може збільшити обсяг використаного
програмою місця на диску, оскільки вилучення застарілих файлів кешу у
пам'яті виявиться неможливим, оскільки їх буде пов'язано із процесами
довготривалої дії.
        </para>
        <para>
            Можливим обхідним маневром у випадках процесів довготривалої дії, які
виконують пошук користувачів та груп лише під час запуску або дуже нечасто,
є запуск процесів із встановленим для змінної середовища
SSS_NSS_USE_MEMCACHE значенням «NO», щоб вони взагалі не використовували кеш
у пам'яті або не відображали файл кешу до своєї пам'яті. Загалом, кращим
варіантом є коригування параметрів часу очікування кешування так, щоб вони
відповідали конкретному випадку. Тоді виклик <command>sss_cache</command>
стане непотрібним.
        </para>
    </refsect1>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="include/seealso.xml" />

</refentry>
</reference>
